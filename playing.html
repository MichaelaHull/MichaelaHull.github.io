<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-quiv="X-UA-Compatible" content="IE-edge">
  <meta name="viewpoint" content="width=device-width, initial-scale=1">

  <title>Homework 2</title>
  
  <link rel="stylesheet" href="http://s3.amazonaws.com/codecademy-content/courses/ltp/css/bootstrap.css">
  <link rel="stylesheet" href="stylesheets/main.css">
  <link href="http://s3.amazonaws.com/codecademy-content/courses/ltp/css/shift.css" rel="stylesheet">
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
  <script src="http://d3js.org/queue.v1.min.js"></script>
  <style type="text/css">
  </style>
</head>
<body align="center">
<script type="text/javascript">

var colors = {
    "grey": "#bbbbbb",
    "blue": "#4D4D94",
    "purple": {
      "dark": "#7570b3",
      "med": "#8da0cb",
      "light": "#cbd5e8"
    },
    "green":  {
      "dark": "#1b9e77",
      "med": "#66c2a5",
      "light": "#b3e2cd"
    },
    "orange": {
      "dark": "#d95f02",
      "med": "#fc8d62",
      "light": "#fdcdac"
    },
    "pink": {
      "dark": "#e7298a",
      "med": "#e78ac3",
      "light": "#f4cae4"
    },
    "yellow": "#CCA300"
  };


  var area_color = {
    "Middle Atlantic": colors.pink.dark,
    "New England": colors.pink.med,
    "East South Central": colors.green.dark,
    "South Atlantic": colors.green.med,
    "West South Central": colors.green.light,
    "East North Central": colors.purple.dark,
    "West North Central": colors.purple.med,
    "Mountain": colors.orange.dark,
    "Pacific": colors.orange.med
  };

  var svg_height = 750;
  var svg_width = svg_height;
  var margin = 50;
  var plot_height = svg_height - 2*margin;
  var plot_width = svg_width - 2*margin;

  var svg = d3.select("body").append("svg")
    .attr("height", svg_height)
    .attr("width", svg_width)
    .style("border-color", colors.grey)
    .style("border-width", 1)
    .style("border-style", "solid");

  var plot = svg.append("g");
  plot.attr("transform", "translate(" + margin + "," + margin + ")");

var r_var = "area";
var x_var = "murder";
var y_var = "life_exp";
var x_ax = plot_width;
var y_ax = plot_height;

plot.append("circle")
  .attr("cx", 50)
  .attr("cy", 50)
  .attr("r", 30)
  .style("fill", colors.gre);

var xmax = d3.max(data, function (d) { return +d[x_var]; });
var ymax = d3.max(data, function (d) { return +d[y_var]; });
var xmin = d3.min(data, function (d) { return +d[x_var]; });
var ymin = d3.min(data, function (d) { return +d[y_var]; });
var area_max = d3.max(data, function (d) { return d[r_var]; });
//console.log("Max Min:", xmax, xmin, ymax, ymin, area_max);
var bubbles = plot.selectAll("circle")
        .data(data, function(d) {
            return d.id;
        });
console.log("Data:", data);
bubbles.append("circle")
  .attr("cx", function (d) { return +d[x_var]; })
  .attr("cy", function (d) { return +d[y_var]; })
  .attr("r", 30)
  .attr("fill", colors.grey);

  // function bubble_plot(r_var, x_var, y_var, data, x_ax, y_ax) {
  //   var xmax = d3.max(data, function (d) { return +d[x_var]; });
  //   var ymax = d3.max(data, function (d) { return +d[y_var]; });
  //   var xmin = d3.min(data, function (d) { return +d[x_var]; });
  //   var ymin = d3.min(data, function (d) { return +d[y_var]; });
  //   var area_max = d3.max(data, function (d) { return d[r_var]; });
  //   console.log("Misc:", xmax, xmin, ymax, ymin, area_max);
  //   var bubbles = plot.selectAll("circle")
  //       .data(data, function (d) { return d.state_abb; });
  //   console.log("?", bubbles);
  //   var r_max = 0.05*x_ax;
  //   var r_scale = r_max/Math.sqrt(area_max);
  //   var x_scale = d3.scale.linear()
  //     .domain([xmin, xmax])
  //     .range([0, x_ax - 2*r_max]);
  //   var y_scale = d3.scale.linear()
  //     .domain([ymin, ymax])
  //     .range([y_ax - 2*r_max, 0]);
  //   bubbles.append("circle")
  //     .attr("r", function (d) { return Math.sqrt(d[r_var])*r_scale; })
  //     .attr("cx", function (d) { return x_scale(d[x_var]) + r_max; })
  //     .attr("cy", function (d) { return y_scale(d[y_var]) + r_max; })
  //     .style("fill-opacity", 0.5)
  //     .style("fill", function (d) { return area_color[d[area]]; });
  // };

  

  // bubble_plot("area", "murder", "life_exp", data, plot_width, plot_height);
</script>
</body>
</head>
